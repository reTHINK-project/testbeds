(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("activate", [], factory);
	else if(typeof exports === 'object')
		exports["activate"] = factory();
	else
		root["activate"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = activate;\n\nvar _IdpProxy = __webpack_require__(1);\n\nvar _EdpInfo = __webpack_require__(2);\n\nvar _AbstractIdpProxyStub = __webpack_require__(3);\n\nvar _AbstractIdpProxyStub2 = _interopRequireDefault(_AbstractIdpProxyStub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n* Google Identity Provider Proxy Protocol Stub\n*/\nvar EdpIdpProxyProtoStub = function (_AbstractIdpProxyProt) {\n  _inherits(EdpIdpProxyProtoStub, _AbstractIdpProxyProt);\n\n  /**\n  * Constructor of the IdpProxy Stub\n  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received\n  *\n  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL\n  * @param  {Message.Message}                           busPostMessage     configuration\n  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration\n  */\n  function EdpIdpProxyProtoStub(runtimeProtoStubURL, bus, config) {\n    _classCallCheck(this, EdpIdpProxyProtoStub);\n\n    config.domain = 'edpdistribuicao.pt';\n    config.idpUrl = 'domain-idp://edpdistribuicao.pt';\n    config.idpProxy = _IdpProxy.IdpProxy;\n    config.idpInfo = _EdpInfo.edpInfo;\n    config.apiInfo = _EdpInfo.edpInfo;\n    config.authEndpoint = _EdpInfo.authEndpoint;\n    config.accessTokenInput = _EdpInfo.accessTokenInput;\n    config.accessTokenEndpoint = _EdpInfo.authEndpoint;\n    return _possibleConstructorReturn(this, (EdpIdpProxyProtoStub.__proto__ || Object.getPrototypeOf(EdpIdpProxyProtoStub)).call(this, runtimeProtoStubURL, bus, config));\n  }\n\n  return EdpIdpProxyProtoStub;\n}(_AbstractIdpProxyStub2.default);\n\n// export default IdpProxyProtoStub;\n\n/**\n * To activate this protocol stub, using the same method for all protostub.\n * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL\n * @param  {Message.Message}                           busPostMessage     configuration\n * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration\n * @return {Object} Object with name and instance of ProtoStub\n */\n\n\nfunction activate(url, bus, config) {\n  return {\n    name: 'EdpIdpProxyProtoStub',\n    instance: new EdpIdpProxyProtoStub(url, bus, config)\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL2lkcHByb3h5L2VkcC9FZHBJZHBQcm94eVN0dWIuaWRwLmpzP2YxNTciXSwibmFtZXMiOlsiYWN0aXZhdGUiLCJFZHBJZHBQcm94eVByb3RvU3R1YiIsInJ1bnRpbWVQcm90b1N0dWJVUkwiLCJidXMiLCJjb25maWciLCJkb21haW4iLCJpZHBVcmwiLCJpZHBQcm94eSIsIklkcFByb3h5IiwiaWRwSW5mbyIsImVkcEluZm8iLCJhcGlJbmZvIiwiYXV0aEVuZHBvaW50IiwiYWNjZXNzVG9rZW5JbnB1dCIsImFjY2Vzc1Rva2VuRW5kcG9pbnQiLCJBYnN0cmFjdElkcFByb3h5UHJvdG9TdHViIiwidXJsIiwibmFtZSIsImluc3RhbmNlIl0sIm1hcHBpbmdzIjoiOzs7OztrQkF1Q3dCQSxROztBQXZDeEI7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7OztBQUVBOzs7SUFHTUMsb0I7OztBQUVKOzs7Ozs7OztBQVFBLGdDQUFZQyxtQkFBWixFQUFpQ0MsR0FBakMsRUFBc0NDLE1BQXRDLEVBQThDO0FBQUE7O0FBQzVDQSxXQUFPQyxNQUFQLEdBQWdCLG9CQUFoQjtBQUNBRCxXQUFPRSxNQUFQLEdBQWdCLGlDQUFoQjtBQUNBRixXQUFPRyxRQUFQLEdBQWtCQyxrQkFBbEI7QUFDQUosV0FBT0ssT0FBUCxHQUFpQkMsZ0JBQWpCO0FBQ0FOLFdBQU9PLE9BQVAsR0FBaUJELGdCQUFqQjtBQUNBTixXQUFPUSxZQUFQLEdBQXNCQSxxQkFBdEI7QUFDQVIsV0FBT1MsZ0JBQVAsR0FBMEJBLHlCQUExQjtBQUNBVCxXQUFPVSxtQkFBUCxHQUE2QkYscUJBQTdCO0FBUjRDLHVJQVN0Q1YsbUJBVHNDLEVBU2pCQyxHQVRpQixFQVNaQyxNQVRZO0FBVTdDOzs7RUFwQmdDVyw4Qjs7QUF1Qm5DOztBQUVBOzs7Ozs7Ozs7QUFPZSxTQUFTZixRQUFULENBQWtCZ0IsR0FBbEIsRUFBdUJiLEdBQXZCLEVBQTRCQyxNQUE1QixFQUFvQztBQUNqRCxTQUFPO0FBQ0xhLFVBQU0sc0JBREQ7QUFFTEMsY0FBVSxJQUFJakIsb0JBQUosQ0FBeUJlLEdBQXpCLEVBQThCYixHQUE5QixFQUFtQ0MsTUFBbkM7QUFGTCxHQUFQO0FBSUQiLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElkcFByb3h5IH0gZnJvbSBcIi4vSWRwUHJveHlcIlxuaW1wb3J0IHsgZWRwSW5mbywgYXV0aEVuZHBvaW50LCBhY2Nlc3NUb2tlbklucHV0LCByZXZva2VFbmRwb2ludCB9IGZyb20gXCIuL0VkcEluZm9cIlxuaW1wb3J0IEFic3RyYWN0SWRwUHJveHlQcm90b1N0dWIgZnJvbSBcIi4uL0Fic3RyYWN0SWRwUHJveHlTdHViXCJcblxuLyoqXG4qIEdvb2dsZSBJZGVudGl0eSBQcm92aWRlciBQcm94eSBQcm90b2NvbCBTdHViXG4qL1xuY2xhc3MgRWRwSWRwUHJveHlQcm90b1N0dWIgZXh0ZW5kcyBBYnN0cmFjdElkcFByb3h5UHJvdG9TdHViIHtcblxuICAvKipcbiAgKiBDb25zdHJ1Y3RvciBvZiB0aGUgSWRwUHJveHkgU3R1YlxuICAqIFRoZSBjb25zdHJ1Y3RvciBhZGQgYSBsaXN0ZW5lciBpbiB0aGUgbWVzc2FnZUJ1cyByZWNlaXZlZCBhbmQgc3RhcnQgYSB3ZWIgd29ya2VyIHdpdGggdGhlIGlkcFByb3h5IHJlY2VpdmVkXG4gICpcbiAgKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkxcbiAgKiBAcGFyYW0gIHtNZXNzYWdlLk1lc3NhZ2V9ICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVzUG9zdE1lc3NhZ2UgICAgIGNvbmZpZ3VyYXRpb25cbiAgKiBAcGFyYW0gIHtQcm90b1N0dWJEZXNjcmlwdG9yLkNvbmZpZ3VyYXRpb25EYXRhTGlzdH0gY29uZmlndXJhdGlvbiAgICAgIGNvbmZpZ3VyYXRpb25cbiAgKi9cbiAgY29uc3RydWN0b3IocnVudGltZVByb3RvU3R1YlVSTCwgYnVzLCBjb25maWcpIHtcbiAgICBjb25maWcuZG9tYWluID0gJ2VkcGRpc3RyaWJ1aWNhby5wdCc7XG4gICAgY29uZmlnLmlkcFVybCA9ICdkb21haW4taWRwOi8vZWRwZGlzdHJpYnVpY2FvLnB0JztcbiAgICBjb25maWcuaWRwUHJveHkgPSBJZHBQcm94eTtcbiAgICBjb25maWcuaWRwSW5mbyA9IGVkcEluZm87XG4gICAgY29uZmlnLmFwaUluZm8gPSBlZHBJbmZvO1xuICAgIGNvbmZpZy5hdXRoRW5kcG9pbnQgPSBhdXRoRW5kcG9pbnQ7XG4gICAgY29uZmlnLmFjY2Vzc1Rva2VuSW5wdXQgPSBhY2Nlc3NUb2tlbklucHV0O1xuICAgIGNvbmZpZy5hY2Nlc3NUb2tlbkVuZHBvaW50ID0gYXV0aEVuZHBvaW50O1xuICAgIHN1cGVyKHJ1bnRpbWVQcm90b1N0dWJVUkwsIGJ1cywgY29uZmlnKTtcbiAgfVxufVxuXG4vLyBleHBvcnQgZGVmYXVsdCBJZHBQcm94eVByb3RvU3R1YjtcblxuLyoqXG4gKiBUbyBhY3RpdmF0ZSB0aGlzIHByb3RvY29sIHN0dWIsIHVzaW5nIHRoZSBzYW1lIG1ldGhvZCBmb3IgYWxsIHByb3Rvc3R1Yi5cbiAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTFxuICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c1Bvc3RNZXNzYWdlICAgICBjb25maWd1cmF0aW9uXG4gKiBAcGFyYW0gIHtQcm90b1N0dWJEZXNjcmlwdG9yLkNvbmZpZ3VyYXRpb25EYXRhTGlzdH0gY29uZmlndXJhdGlvbiAgICAgIGNvbmZpZ3VyYXRpb25cbiAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggbmFtZSBhbmQgaW5zdGFuY2Ugb2YgUHJvdG9TdHViXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFjdGl2YXRlKHVybCwgYnVzLCBjb25maWcpIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnRWRwSWRwUHJveHlQcm90b1N0dWInLFxuICAgIGluc3RhbmNlOiBuZXcgRWRwSWRwUHJveHlQcm90b1N0dWIodXJsLCBidXMsIGNvbmZpZylcbiAgfTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuLi9kZXYtcHJvdG9zdHVicy9zcmMvaWRwcHJveHkvZWRwL0VkcElkcFByb3h5U3R1Yi5pZHAuanMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// import {getExpires} from './OAUTH';\n\nvar identities = {};\nvar nIdentity = 0;\nvar redirectURI = location.protocol + '//' + location.hostname + (location.port !== '' ? ':' + location.port : '');\n\n//let tokenEndpoint;\n//let authorisationEndpoint;\nvar accessTokenEndpoint = void 0;\nvar refreshAccessTokenEndpoint = void 0;\nvar domain = void 0;\nvar accessTokenAuthorisationEndpoint = void 0;\n\n//function to parse the query string in the given URL to obatin certain values\nfunction urlParser(url, name) {\n  name = name.replace(/[\\[]/, '\\\\\\[').replace(/[\\]]/, '\\\\\\]');\n  var regexS = '[\\\\#&?]' + name + '=([^&#]*)';\n  var regex = new RegExp(regexS);\n  var results = regex.exec(url);\n  if (results === null) return false;else return results[1];\n}\n\nfunction sendHTTPRequest(method, url) {\n  var xhr = new XMLHttpRequest();\n  if ('withCredentials' in xhr) {\n    xhr.open(method, url, true);\n  } else if (typeof XDomainRequest != 'undefined') {\n    // Otherwise, check if XDomainRequest.\n    // XDomainRequest only exists in IE, and is IE's way of making CORS requests.\n    xhr = new XDomainRequest();\n    xhr.open(method, url);\n  } else {\n    // Otherwise, CORS is not supported by the browser.\n    xhr = null;\n  }\n  return new Promise(function (resolve, reject) {\n    if (xhr) {\n      xhr.onreadystatechange = function (e) {\n        if (xhr.readyState === 4) {\n          if (xhr.status === 200) {\n            var info = JSON.parse(xhr.responseText);\n            resolve(info);\n          } else if (xhr.status === 400) {\n            reject('There was an error processing the token');\n          } else {\n            reject('something else other than 200 was returned');\n          }\n        }\n      };\n      xhr.send();\n    } else {\n      reject('CORS not supported');\n    }\n  });\n}\n\nvar accessTokenResult = function accessTokenResult(resources, accessToken, expires, input, refresh) {\n\n  var result = { domain: domain, resources: resources, accessToken: accessToken, expires: expires, input: input };\n\n  if (refresh) result.refresh = refresh;\n\n  return result;\n};\n\n/**\n* Identity Provider Proxy\n*/\nvar IdpProxy = exports.IdpProxy = {\n\n  /**\n  * Function to validate an identity Assertion received\n  * TODO add details of the implementation, and improve the implementation\n  *\n  * @param  {idpInfo}      Object information about IdP endpoints\n  * @param  {assertion}    Identity Assertion to be validated\n  * @param  {origin}       Origin parameter that identifies the origin of the RTCPeerConnection\n  * @return {Promise}      Returns a promise with the identity assertion validation result\n  */\n\n  /**\n  * Function to get an Access Token endpoint\n  *\n  * @param  {config}      Object information about IdP endpoints\n  * @param  {resources} Object contents includes information about the identity received\n  * @return {Promise} returns a promise with an identity assertion\n  */\n\n  getAccessTokenAuthorisationEndpoint: function getAccessTokenAuthorisationEndpoint(config, client_id) {\n    console.log('[Edp.IdpProxy.getAccessTokenAuthorisationEndpoint:config]', config);\n    //    console.log('[OIDC.generateAssertion:contents]', contents);\n    //    console.log('[OIDC.generateAssertion:origin]', origin);\n    console.log('[Edp.IdpProxy.getAccessTokenAuthorisationEndpoint:resources]', client_id);\n    //    let i = idpInfo;\n    accessTokenAuthorisationEndpoint = config.authEndpoint;\n    //start the login phase\n    return new Promise(function (resolve, reject) {\n      // TODO replace by resources[0]\n      resolve(accessTokenAuthorisationEndpoint(client_id));\n    }, function (e) {\n\n      reject(e);\n    });\n  },\n\n  /**\n  * Function to get an Access Token\n  *\n  * @param  {login} optional login result\n  * @return {Promise} returns a promise with an identity assertion\n  */\n\n  getAccessToken: function getAccessToken(config, client_id, login) {\n    console.log('[OIDC.getAccessToken:config]', config);\n    //    console.log('[OIDC.generateAssertion:contents]', contents);\n    //    console.log('[OIDC.generateAssertion:origin]', origin);\n    console.log('[OIDC.getAccessToken:login]', login);\n    //    let i = idpInfo;\n    accessTokenEndpoint = config.accessTokenEndpoint;\n    domain = config.domain;\n\n    //start the login phase\n    return new Promise(function (resolve, reject) {\n      // the user is loggedin, try to extract the Access Token and its expires\n      var isValid = urlParser(login, 'isValid') === 'true' ? true : false;\n\n      var consent = urlParser(login, 'consent') === 'true' ? true : false;\n\n      if (consent & isValid) {\n        var accessToken = consent;\n        var expires = 3153600000 + Math.floor(Date.now() / 1000);\n\n        resolve(accessTokenResult(client_id, accessToken, expires, login));\n      } else {\n        reject({ consent: consent, isValid: isValid });\n      }\n    }, function (e) {\n\n      reject(e);\n    });\n  }\n\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL2lkcHByb3h5L2VkcC9JZHBQcm94eS5qcz9mZjk2Il0sIm5hbWVzIjpbImlkZW50aXRpZXMiLCJuSWRlbnRpdHkiLCJyZWRpcmVjdFVSSSIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInBvcnQiLCJhY2Nlc3NUb2tlbkVuZHBvaW50IiwicmVmcmVzaEFjY2Vzc1Rva2VuRW5kcG9pbnQiLCJkb21haW4iLCJhY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludCIsInVybFBhcnNlciIsInVybCIsIm5hbWUiLCJyZXBsYWNlIiwicmVnZXhTIiwicmVnZXgiLCJSZWdFeHAiLCJyZXN1bHRzIiwiZXhlYyIsInNlbmRIVFRQUmVxdWVzdCIsIm1ldGhvZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIlhEb21haW5SZXF1ZXN0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImluZm8iLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJzZW5kIiwiYWNjZXNzVG9rZW5SZXN1bHQiLCJyZXNvdXJjZXMiLCJhY2Nlc3NUb2tlbiIsImV4cGlyZXMiLCJpbnB1dCIsInJlZnJlc2giLCJyZXN1bHQiLCJJZHBQcm94eSIsImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50IiwiY29uZmlnIiwiY2xpZW50X2lkIiwiY29uc29sZSIsImxvZyIsImF1dGhFbmRwb2ludCIsImdldEFjY2Vzc1Rva2VuIiwibG9naW4iLCJpc1ZhbGlkIiwiY29uc2VudCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7O0FBRUEsSUFBSUEsYUFBYSxFQUFqQjtBQUNBLElBQUlDLFlBQVksQ0FBaEI7QUFDQSxJQUFJQyxjQUFjQyxTQUFTQyxRQUFULEdB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QVYsRUFBbUJELFNBQVNBLE9BQTVCLEVBQVI7QUFDRDtBQUdKLEtBaEJNLEVBZ0JKLFVBQVV4QixDQUFWLEVBQWE7O0FBRWRGLGFBQU9FLENBQVA7QUFDRCxLQW5CTSxDQUFQO0FBb0JEOztBQTVFbUIsQ0FBZiIsImZpbGUiOiIxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IHtnZXRFeHBpcmVzfSBmcm9tICcuL09BVVRIJztcblxubGV0IGlkZW50aXRpZXMgPSB7fTtcbmxldCBuSWRlbnRpdHkgPSAwO1xubGV0IHJlZGlyZWN0VVJJID0gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdG5hbWUgKyAobG9jYXRpb24ucG9ydCAhPT0gJycgPyAnOicgKyBsb2NhdGlvbi5wb3J0IDogJycgKTtcblxuXG4vL2xldCB0b2tlbkVuZHBvaW50O1xuLy9sZXQgYXV0aG9yaXNhdGlvbkVuZHBvaW50O1xubGV0IGFjY2Vzc1Rva2VuRW5kcG9pbnQ7XG5sZXQgcmVmcmVzaEFjY2Vzc1Rva2VuRW5kcG9pbnQ7XG5sZXQgZG9tYWluO1xubGV0IGFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50O1xuXG5cbi8vZnVuY3Rpb24gdG8gcGFyc2UgdGhlIHF1ZXJ5IHN0cmluZyBpbiB0aGUgZ2l2ZW4gVVJMIHRvIG9iYXRpbiBjZXJ0YWluIHZhbHVlc1xuZnVuY3Rpb24gdXJsUGFyc2VyKHVybCwgbmFtZSkge1xuICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXS8sICdcXFxcXFxbJykucmVwbGFjZSgvW1xcXV0vLCAnXFxcXFxcXScpO1xuICBsZXQgcmVnZXhTID0gJ1tcXFxcIyY/XScgKyBuYW1lICsgJz0oW14mI10qKSc7XG4gIGxldCByZWdleCA9IG5ldyBSZWdFeHAocmVnZXhTKTtcbiAgbGV0IHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XG4gIGlmIChyZXN1bHRzID09PSBudWxsKVxuICByZXR1cm4gZmFsc2U7XG4gIGVsc2VcbiAgcmV0dXJuIHJlc3VsdHNbMV07XG59XG5cbmZ1bmN0aW9uIHNlbmRIVFRQUmVxdWVzdChtZXRob2QsIHVybCkge1xuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIGlmICgnd2l0aENyZWRlbnRpYWxzJyBpbiB4aHIpIHtcbiAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIFhEb21haW5SZXF1ZXN0ICE9ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBpZiBYRG9tYWluUmVxdWVzdC5cbiAgICAvLyBYRG9tYWluUmVxdWVzdCBvbmx5IGV4aXN0cyBpbiBJRSwgYW5kIGlzIElFJ3Mgd2F5IG9mIG1ha2luZyBDT1JTIHJlcXVlc3RzLlxuICAgIHhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBPdGhlcndpc2UsIENPUlMgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci5cbiAgICB4aHIgPSBudWxsO1xuICB9XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCkge1xuICAgIGlmICh4aHIpIHtcbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIGxldCBpbmZvID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIHJlc29sdmUoaW5mbyk7XG4gICAgICAgICAgfSBlbHNlIGlmICh4aHIuc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgIHJlamVjdCgnVGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgdGhlIHRva2VuJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdCgnc29tZXRoaW5nIGVsc2Ugb3RoZXIgdGhhbiAyMDAgd2FzIHJldHVybmVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgeGhyLnNlbmQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVqZWN0KCdDT1JTIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbmxldCBhY2Nlc3NUb2tlblJlc3VsdCA9IChmdW5jdGlvbiAocmVzb3VyY2VzLCBhY2Nlc3NUb2tlbiwgZXhwaXJlcywgaW5wdXQsIHJlZnJlc2gpIHtcblxuICBsZXQgcmVzdWx0ID0geyBkb21haW46IGRvbWFpbiwgcmVzb3VyY2VzOiByZXNvdXJjZXMsIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbiwgZXhwaXJlczogZXhwaXJlcywgaW5wdXQ6IGlucHV0IH07XG5cbiAgaWYgKHJlZnJlc2gpIHJlc3VsdC5yZWZyZXNoID0gcmVmcmVzaDtcblxuICByZXR1cm4gcmVzdWx0O1xuXG59KTtcblxuXG5cbi8qKlxuKiBJZGVudGl0eSBQcm92aWRlciBQcm94eVxuKi9cbmV4cG9ydCBsZXQgSWRwUHJveHkgPSB7XG5cbiAgLyoqXG4gICogRnVuY3Rpb24gdG8gdmFsaWRhdGUgYW4gaWRlbnRpdHkgQXNzZXJ0aW9uIHJlY2VpdmVkXG4gICogVE9ETyBhZGQgZGV0YWlscyBvZiB0aGUgaW1wbGVtZW50YXRpb24sIGFuZCBpbXByb3ZlIHRoZSBpbXBsZW1lbnRhdGlvblxuICAqXG4gICogQHBhcmFtICB7aWRwSW5mb30gICAgICBPYmplY3QgaW5mb3JtYXRpb24gYWJvdXQgSWRQIGVuZHBvaW50c1xuICAqIEBwYXJhbSAge2Fzc2VydGlvbn0gICAgSWRlbnRpdHkgQXNzZXJ0aW9uIHRvIGJlIHZhbGlkYXRlZFxuICAqIEBwYXJhbSAge29yaWdpbn0gICAgICAgT3JpZ2luIHBhcmFtZXRlciB0aGF0IGlkZW50aWZpZXMgdGhlIG9yaWdpbiBvZiB0aGUgUlRDUGVlckNvbm5lY3Rpb25cbiAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgIFJldHVybnMgYSBwcm9taXNlIHdpdGggdGhlIGlkZW50aXR5IGFzc2VydGlvbiB2YWxpZGF0aW9uIHJlc3VsdFxuICAqL1xuXG5cbiAgLyoqXG4gICogRnVuY3Rpb24gdG8gZ2V0IGFuIEFjY2VzcyBUb2tlbiBlbmRwb2ludFxuICAqXG4gICogQHBhcmFtICB7Y29uZmlnfSAgICAgIE9iamVjdCBpbmZvcm1hdGlvbiBhYm91dCBJZFAgZW5kcG9pbnRzXG4gICogQHBhcmFtICB7cmVzb3VyY2VzfSBPYmplY3QgY29udGVudHMgaW5jbHVkZXMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGlkZW50aXR5IHJlY2VpdmVkXG4gICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJucyBhIHByb21pc2Ugd2l0aCBhbiBpZGVudGl0eSBhc3NlcnRpb25cbiAgKi9cblxuICBnZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludDogKGNvbmZpZywgY2xpZW50X2lkKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1tFZHAuSWRwUHJveHkuZ2V0QWNjZXNzVG9rZW5BdXRob3Jpc2F0aW9uRW5kcG9pbnQ6Y29uZmlnXScsIGNvbmZpZyk7XG4vLyAgICBjb25zb2xlLmxvZygnW09JREMuZ2VuZXJhdGVBc3NlcnRpb246Y29udGVudHNdJywgY29udGVudHMpO1xuLy8gICAgY29uc29sZS5sb2coJ1tPSURDLmdlbmVyYXRlQXNzZXJ0aW9uOm9yaWdpbl0nLCBvcmlnaW4pO1xuICAgIGNvbnNvbGUubG9nKCdbRWRwLklkcFByb3h5LmdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50OnJlc291cmNlc10nLCBjbGllbnRfaWQpO1xuLy8gICAgbGV0IGkgPSBpZHBJbmZvO1xuICAgIGFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50ID0gY29uZmlnLmF1dGhFbmRwb2ludDtcbiAgICAvL3N0YXJ0IHRoZSBsb2dpbiBwaGFzZVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAvLyBUT0RPIHJlcGxhY2UgYnkgcmVzb3VyY2VzWzBdXG4gICAgICByZXNvbHZlKGFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50KGNsaWVudF9pZCkpO1xuXG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgcmVqZWN0KGUpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAqIEZ1bmN0aW9uIHRvIGdldCBhbiBBY2Nlc3MgVG9rZW5cbiAgKlxuICAqIEBwYXJhbSAge2xvZ2lufSBvcHRpb25hbCBsb2dpbiByZXN1bHRcbiAgKiBAcmV0dXJuIHtQcm9taXNlfSByZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGFuIGlkZW50aXR5IGFzc2VydGlvblxuICAqL1xuXG4gIGdldEFjY2Vzc1Rva2VuOiAoY29uZmlnLCBjbGllbnRfaWQsIGxvZ2luKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1tPSURDLmdldEFjY2Vzc1Rva2VuOmNvbmZpZ10nLCBjb25maWcpO1xuLy8gICAgY29uc29sZS5sb2coJ1tPSURDLmdlbmVyYXRlQXNzZXJ0aW9uOmNvbnRlbnRzXScsIGNvbnRlbnRzKTtcbi8vICAgIGNvbnNvbGUubG9nKCdbT0lEQy5nZW5lcmF0ZUFzc2VydGlvbjpvcmlnaW5dJywgb3JpZ2luKTtcbiAgICBjb25zb2xlLmxvZygnW09JREMuZ2V0QWNjZXNzVG9rZW46bG9naW5dJywgbG9naW4pO1xuLy8gICAgbGV0IGkgPSBpZHBJbmZvO1xuICAgIGFjY2Vzc1Rva2VuRW5kcG9pbnQgPSBjb25maWcuYWNjZXNzVG9rZW5FbmRwb2ludDtcbiAgICBkb21haW4gPSBjb25maWcuZG9tYWluO1xuXG4gICAgLy9zdGFydCB0aGUgbG9naW4gcGhhc2VcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAvLyB0aGUgdXNlciBpcyBsb2dnZWRpbiwgdHJ5IHRvIGV4dHJhY3QgdGhlIEFjY2VzcyBUb2tlbiBhbmQgaXRzIGV4cGlyZXNcbiAgICAgICAgbGV0IGlzVmFsaWQgPSB1cmxQYXJzZXIobG9naW4sICdpc1ZhbGlkJykgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICBsZXQgY29uc2VudCA9IHVybFBhcnNlcihsb2dpbiwgJ2NvbnNlbnQnKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIGlmIChjb25zZW50ICYgaXNWYWxpZCkge1xuICAgICAgICAgIGxldCBhY2Nlc3NUb2tlbiA9IGNvbnNlbnQ7XG4gICAgICAgICAgbGV0IGV4cGlyZXMgPSAzMTUzNjAwMDAwICsgTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG5cbiAgICAgICAgICByZXNvbHZlKCBhY2Nlc3NUb2tlblJlc3VsdChjbGllbnRfaWQsIGFjY2Vzc1Rva2VuLCBleHBpcmVzLCBsb2dpbikgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QoIHtjb25zZW50OiBjb25zZW50LCBpc1ZhbGlkOiBpc1ZhbGlkfSk7XG4gICAgICAgIH1cblxuXG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcblxuICAgICAgcmVqZWN0KGUpO1xuICAgIH0pO1xuICB9XG5cbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vZGV2LXByb3Rvc3R1YnMvc3JjL2lkcHByb3h5L2VkcC9JZHBQcm94eS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.authEndpoint = authEndpoint;\nexports.revokeEndpoint = revokeEndpoint;\nexports.accessTokenInput = accessTokenInput;\n\nvar redirectURI = location.protocol + '//' + location.hostname + (location.port !== '' ? ':' + location.port : '');\n\nvar edpInfo = exports.edpInfo = {\n  \"authorisationEndpoint\": \"https://online.edpdistribuicao.pt/sharing-cities/login?\",\n  \"revokeEndpoint\": \"https://online.edpdistribuicao.pt/sharing-cities/revoke?\",\n  //\"authorisationEndpoint\":  \"https://fe-dot-online-dist-edp-pre.appspot.com/sharing-cities/login?\",\n  //\"revokeEndpoint\": \"https://fe-dot-online-dist-edp-pre.appspot.com/sharing-cities/revoke?\",\n  \"domain\": \"edpdistribuicao.pt\"\n};\n\nfunction authEndpoint(client_id) {\n\n  return edpInfo.authorisationEndpoint + 'client_id=' + client_id + '&redirect_uri=' + redirectURI;\n};\n\nfunction revokeEndpoint(client_id) {\n\n  return edpInfo.revokeEndpoint + 'client_id=' + client_id;\n};\n\nfunction accessTokenInput(info) {\n\n  return { info: info };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL2lkcHByb3h5L2VkcC9FZHBJbmZvLmpzP2FkOTYiXSwibmFtZXMiOlsiYXV0aEVuZHBvaW50IiwicmV2b2tlRW5kcG9pbnQiLCJhY2Nlc3NUb2tlbklucHV0IiwicmVkaXJlY3RVUkkiLCJsb2NhdGlvbiIsInByb3RvY29sIiwiaG9zdG5hbWUiLCJwb3J0IiwiZWRwSW5mbyIsImNsaWVudF9pZCIsImF1dGhvcmlzYXRpb25FbmRwb2ludCIsImluZm8iXSwibWFwcGluZ3MiOiI7Ozs7O1FBV2dCQSxZLEdBQUFBLFk7UUFPQUMsYyxHQUFBQSxjO1FBTUFDLGdCLEdBQUFBLGdCOztBQXZCaEIsSUFBSUMsY0FBY0MsU0FBU0MsUUFBVCxHQUFvQixJQUFwQixHQUEyQkQsU0FBU0UsUUFBcEMsSUFBZ0RGLFNBQVNHLElBQVQsS0FBa0IsRUFBbEIsR0FBdUIsTUFBTUgsU0FBU0csSUFBdEMsR0FBNkMsRUFBN0YsQ0FBbEI7O0FBRU8sSUFBSUMsNEJBQVU7QUFDbkIsMkJBQTBCLHlEQURQO0FBRW5CLG9CQUFrQiwwREFGQztBQUduQjtBQUNBO0FBQ0EsWUFBVTtBQUxTLENBQWQ7O0FBUUEsU0FBU1IsWUFBVCxDQUFzQlMsU0FBdEIsRUFBaUM7O0FBRXRDLFNBQU9ELFFBQVFFLHFCQUFSLEdBQ0gsWUFERyxHQUNZRCxTQURaLEdBRUgsZ0JBRkcsR0FFZ0JOLFdBRnZCO0FBR0Q7O0FBRU0sU0FBU0YsY0FBVCxDQUF3QlEsU0FBeEIsRUFBbUM7O0FBRXhDLFNBQU9ELFFBQVFQLGNBQVIsR0FDTCxZQURLLEdBQ1VRLFNBRGpCO0FBRUQ7O0FBRU0sU0FBU1AsZ0JBQVQsQ0FBMEJTLElBQTFCLEVBQWdDOztBQUVyQyxTQUFPLEVBQUNBLFVBQUQsRUFBUDtBQUNEIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmxldCByZWRpcmVjdFVSSSA9IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3RuYW1lICsgKGxvY2F0aW9uLnBvcnQgIT09ICcnID8gJzonICsgbG9jYXRpb24ucG9ydCA6ICcnKTtcblxuZXhwb3J0IGxldCBlZHBJbmZvID0ge1xuICBcImF1dGhvcmlzYXRpb25FbmRwb2ludFwiOiAgXCJodHRwczovL29ubGluZS5lZHBkaXN0cmlidWljYW8ucHQvc2hhcmluZy1jaXRpZXMvbG9naW4/XCIsXG4gIFwicmV2b2tlRW5kcG9pbnRcIjogXCJodHRwczovL29ubGluZS5lZHBkaXN0cmlidWljYW8ucHQvc2hhcmluZy1jaXRpZXMvcmV2b2tlP1wiLFxuICAvL1wiYXV0aG9yaXNhdGlvbkVuZHBvaW50XCI6ICBcImh0dHBzOi8vZmUtZG90LW9ubGluZS1kaXN0LWVkcC1wcmUuYXBwc3BvdC5jb20vc2hhcmluZy1jaXRpZXMvbG9naW4/XCIsXG4gIC8vXCJyZXZva2VFbmRwb2ludFwiOiBcImh0dHBzOi8vZmUtZG90LW9ubGluZS1kaXN0LWVkcC1wcmUuYXBwc3BvdC5jb20vc2hhcmluZy1jaXRpZXMvcmV2b2tlP1wiLFxuICBcImRvbWFpblwiOiBcImVkcGRpc3RyaWJ1aWNhby5wdFwiXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYXV0aEVuZHBvaW50KGNsaWVudF9pZCkge1xuXG4gIHJldHVybiBlZHBJbmZvLmF1dGhvcmlzYXRpb25FbmRwb2ludFxuICAgICsgJ2NsaWVudF9pZD0nICsgY2xpZW50X2lkXG4gICAgKyAnJnJlZGlyZWN0X3VyaT0nICsgcmVkaXJlY3RVUkk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmV2b2tlRW5kcG9pbnQoY2xpZW50X2lkKSB7XG5cbiAgcmV0dXJuIGVkcEluZm8ucmV2b2tlRW5kcG9pbnRcbiAgKyAnY2xpZW50X2lkPScgKyBjbGllbnRfaWQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYWNjZXNzVG9rZW5JbnB1dChpbmZvKSB7XG5cbiAgcmV0dXJuIHtpbmZvfTtcbn07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi4vZGV2LXByb3Rvc3R1YnMvc3JjL2lkcHByb3h5L2VkcC9FZHBJbmZvLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar IdpProxy = void 0;\nvar idpInfo = void 0;\nvar convertUserProfile = void 0;\nvar userInfoEndpoint = void 0;\nvar accessTokenInput = void 0;\n\n/**\n* Abstract Identity Provider Proxy Protocol Stub to be extended by real Idp Proxies\n*/\n\nvar AbstractIdpProxyProtoStub = function () {\n\n  /**\n  * Constructor of the IdpProxy Stub\n  * The constructor add a listener in the messageBus received and start a web worker with the idpProxy received\n  *\n  * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL\n  * @param  {Message.Message}                           busPostMessage     configuration\n  * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration\n  */\n  function AbstractIdpProxyProtoStub(runtimeProtoStubURL, bus, config) {\n    _classCallCheck(this, AbstractIdpProxyProtoStub);\n\n    var _this = this;\n    _this.runtimeProtoStubURL = runtimeProtoStubURL;\n    _this.messageBus = bus;\n    _this.config = config;\n    IdpProxy = config.idpProxy;\n    convertUserProfile = config.convertUserProfile;\n    accessTokenInput = config.accessTokenInput;\n\n    console.log('[AbstractIdpProxy] constructor');\n\n    _this.messageBus.addListener('*', function (msg) {\n      if (msg.to === config.idpUrl) {\n\n        _this.requestToIdp(msg);\n      }\n    });\n    _this._sendStatus('created');\n  }\n\n  /**\n  * Function that see the intended method in the message received and call the respective function\n  *\n  * @param {message}  message received in the messageBus\n  */\n\n\n  _createClass(AbstractIdpProxyProtoStub, [{\n    key: 'requestToIdp',\n    value: function requestToIdp(msg) {\n      var _this = this;\n      var params = msg.body.params;\n      //console.info('requestToIdp:', msg.body.method);\n      console.info('[AbstractIdpProxyProtoStub] receiving request: ', msg);\n\n      switch (msg.body.method) {\n        case 'generateAssertion':\n          IdpProxy.generateAssertion(_this.config, params.contents, params.origin, params.usernameHint).then(function (value) {\n\n            value.userProfile = convertUserProfile(value.userProfile);\n            _this.replyMessage(msg, value);\n          }, function (error) {\n            _this.replyMessage(msg, error, 401);\n          });\n          break;\n        case 'validateAssertion':\n          //       console.info('validateAssertion');\n          IdpProxy.validateAssertion(_this.config, params.assertion, params.origin).then(function (value) {\n            _this.replyMessage(msg, value);\n          }, function (error) {\n            _this.replyMessage(msg, error);\n          });\n          break;\n        case 'refreshAssertion':\n          //     console.info('refreshAssertion');\n          IdpProxy.refreshAssertion(params.identity).then(function (value) {\n            _this.replyMessage(msg, value);\n          }, function (error) {\n            _this.replyMessage(msg, error, value, 401);\n          });\n          break;\n        case 'getAccessTokenAuthorisationEndpoint':\n          //     console.info('getAccessToken');\n          IdpProxy.getAccessTokenAuthorisationEndpoint(_this.config, params.resources).then(function (value) {\n            _this.replyMessage(msg, value);\n          }, function (error) {\n            _this.replyMessage(msg, error, 401);\n          });\n          break;\n        case 'getAccessToken':\n          //     console.info('getAccessToken');\n          IdpProxy.getAccessToken(_this.config, params.resources, params.login).then(function (value) {\n            console.info('OIDC.getAccessToken result: ', value);\n            value.input = accessTokenInput(value.input);\n            _this.replyMessage(msg, value);\n          }, function (error) {\n            _this.replyMessage(msg, error, 401);\n          });\n          break;\n        case 'refreshAccessToken':\n          //     console.info('getAccessToken');\n          IdpProxy.refreshAccessToken(_this.config, params.token).then(function (value) {\n            console.info('OIDC.refreshAccessToken result: ', value);\n            //            value.input = accessTokenInput(value.input);\n            _this.replyMessage(msg, value);\n          }, function (error) {\n            _this.replyMessage(msg, error, 401);\n          });\n          break;\n        default:\n          break;\n      }\n    }\n\n    /**\n    * This function receives a message and a value. It replies the value to the sender of the message received\n    *\n    * @param  {message}   message received\n    * @param  {value}     value to include in the new message to send\n    */\n\n  }, {\n    key: 'replyMessage',\n    value: function replyMessage(msg, value) {\n      var code = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 200;\n\n      var _this = this;\n\n      var message = {\n        id: msg.id, type: 'response', to: msg.from, from: msg.to,\n        body: { code: code }\n      };\n\n      if (code < 300) message.body.value = value;else message.body.description = value;\n\n      console.log('[AbstractIdpProxyProtoStub.replyMessage] ', message);\n\n      _this.messageBus.postMessage(message);\n    }\n  }, {\n    key: '_sendStatus',\n    value: function _sendStatus(value, reason) {\n      var _this = this;\n\n      console.log('[AbstractIdpProxyProtoStub.sendStatus] ', value);\n\n      _this._state = value;\n\n      var msg = {\n        type: 'update',\n        from: _this.runtimeProtoStubURL,\n        to: _this.runtimeProtoStubURL + '/status',\n        body: {\n          value: value\n        }\n      };\n\n      if (reason) {\n        msg.body.desc = reason;\n      }\n\n      _this.messageBus.postMessage(msg);\n    }\n  }]);\n\n  return AbstractIdpProxyProtoStub;\n}();\n\n// export default IdpProxyProtoStub;\n\n/**\n * To activate this protocol stub, using the same method for all protostub.\n * @param  {URL.RuntimeURL}                            runtimeProtoStubURL runtimeProtoSubURL\n * @param  {Message.Message}                           busPostMessage     configuration\n * @param  {ProtoStubDescriptor.ConfigurationDataList} configuration      configuration\n * @return {Object} Object with name and instance of ProtoStub\n */\n\n\nexports.default = AbstractIdpProxyProtoStub;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vZGV2LXByb3Rvc3R1YnMvc3JjL2lkcHByb3h5L0Fic3RyYWN0SWRwUHJveHlTdHViLmpzPzI3MjQiXSwibmFtZXMiOlsiSWRwUHJveHkiLCJpZHBJbmZvIiwiY29udmVydFVzZXJQcm9maWxlIiwidXNlckluZm9FbmRwb2ludCIsImFjY2Vzc1Rva2VuSW5wdXQiLCJBYnN0cmFjdElkcFByb3h5UHJvdG9TdHViIiwicnVudGltZVByb3RvU3R1YlVSTCIsImJ1cyIsImNvbmZpZyIsIl90aGlzIiwibWVzc2FnZUJ1cyIsImlkcFByb3h5IiwiY29uc29sZSIsImxvZyIsImFkZExpc3RlbmVyIiwibXNnIiwidG8iLCJpZHBVcmwiLCJyZXF1ZXN0VG9JZHAiLCJfc2VuZFN0YXR1cyIsInBhcmFtcyIsImJvZHkiLCJpbmZvIiwibWV0aG9kIiwiZ2VuZXJhdGVBc3NlcnRpb24iLCJjb250ZW50cyIsIm9yaWdpbiIsInVzZXJuYW1lSGludCIsInRoZW4iLCJ2YWx1ZSIsInVzZXJQcm9maWxlIiwicmVwbHlNZXNzYWdlIiwiZXJyb3IiLCJ2YWxpZGF0ZUFzc2VydGlvbiIsImFzc2VydGlvbiIsInJlZnJlc2hBc3NlcnRpb24iLCJpZGVudGl0eSIsImdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50IiwicmVzb3VyY2VzIiwiZ2V0QWNjZXNzVG9rZW4iLCJsb2dpbiIsImlucHV0IiwicmVmcmVzaEFjY2Vzc1Rva2VuIiwidG9rZW4iLCJjb2RlIiwibWVzc2FnZSIsImlkIiwidHlwZSIsImZyb20iLCJkZXNjcmlwdGlvbiIsInBvc3RNZXNzYWdlIiwicmVhc29uIiwiX3N0YXRlIiwiZGVzYyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLElBQUlBLGlCQUFKO0FBQ0EsSUFBSUMsZ0JBQUo7QUFDQSxJQUFJQywyQkFBSjtBQUNBLElBQUlDLHlCQUFKO0FBQ0EsSUFBSUMseUJBQUo7O0FBRUE7Ozs7SUFHTUMseUI7O0FBRUo7Ozs7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LEVBQ2tCL0IsSUFBSUQsSUFBSWlDLElBRDFCLEVBQ2dDQSxNQUFNakMsSUFBSUMsRUFEMUM7QUFFWkssY0FBTSxFQUFFdUIsTUFBTUEsSUFBUjtBQUZNLE9BQWQ7O0FBS0EsVUFBSUEsT0FBTyxHQUFYLEVBQWlCQyxRQUFReEIsSUFBUixDQUFhUSxLQUFiLEdBQXFCQSxLQUFyQixDQUFqQixLQUNLZ0IsUUFBUXhCLElBQVIsQ0FBYTRCLFdBQWIsR0FBMkJwQixLQUEzQjs7QUFFTGpCLGNBQVFDLEdBQVIsQ0FBWSwyQ0FBWixFQUF5RGdDLE9BQXpEOztBQUVBcEMsWUFBTUMsVUFBTixDQUFpQndDLFdBQWpCLENBQTZCTCxPQUE3QjtBQUNEOzs7Z0NBRVdoQixLLEVBQU9zQixNLEVBQVE7QUFDekIsVUFBSTFDLFFBQVEsSUFBWjs7QUFFQUcsY0FBUUMsR0FBUixDQUFZLHlDQUFaLEVBQXVEZ0IsS0FBdkQ7O0FBRUFwQixZQUFNMkMsTUFBTixHQUFldkIsS0FBZjs7QUFFQSxVQUFJZCxNQUFNO0FBQ1JnQyxjQUFNLFFBREU7QUFFUkMsY0FBTXZDLE1BQU1ILG1CQUZKO0FBR1JVLFlBQUlQLE1BQU1ILG1CQUFOLEdBQTRCLFNBSHhCO0FBSVJlLGNBQU07QUFDSlEsaUJBQU9BO0FBREg7QUFKRSxPQUFWOztBQVNBLFVBQUlzQixNQUFKLEVBQVk7QUFDVnBDLFlBQUlNLElBQUosQ0FBU2dDLElBQVQsR0FBZ0JGLE1BQWhCO0FBQ0Q7O0FBRUQxQyxZQUFNQyxVQUFOLENBQWlCd0MsV0FBakIsQ0FBNkJuQyxHQUE3QjtBQUNEOzs7Ozs7QUFHSDs7QUFFQTs7Ozs7Ozs7O2tCQU9lVix5QiIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IElkcFByb3h5O1xubGV0IGlkcEluZm87XG5sZXQgY29udmVydFVzZXJQcm9maWxlO1xubGV0IHVzZXJJbmZvRW5kcG9pbnQ7XG5sZXQgYWNjZXNzVG9rZW5JbnB1dDtcblxuLyoqXG4qIEFic3RyYWN0IElkZW50aXR5IFByb3ZpZGVyIFByb3h5IFByb3RvY29sIFN0dWIgdG8gYmUgZXh0ZW5kZWQgYnkgcmVhbCBJZHAgUHJveGllc1xuKi9cbmNsYXNzIEFic3RyYWN0SWRwUHJveHlQcm90b1N0dWIge1xuXG4gIC8qKlxuICAqIENvbnN0cnVjdG9yIG9mIHRoZSBJZHBQcm94eSBTdHViXG4gICogVGhlIGNvbnN0cnVjdG9yIGFkZCBhIGxpc3RlbmVyIGluIHRoZSBtZXNzYWdlQnVzIHJlY2VpdmVkIGFuZCBzdGFydCBhIHdlYiB3b3JrZXIgd2l0aCB0aGUgaWRwUHJveHkgcmVjZWl2ZWRcbiAgKlxuICAqIEBwYXJhbSAge1VSTC5SdW50aW1lVVJMfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMIHJ1bnRpbWVQcm90b1N1YlVSTFxuICAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICBidXNQb3N0TWVzc2FnZSAgICAgY29uZmlndXJhdGlvblxuICAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvblxuICAqL1xuICBjb25zdHJ1Y3RvcihydW50aW1lUHJvdG9TdHViVVJMLCBidXMsIGNvbmZpZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7XG4gICAgX3RoaXMubWVzc2FnZUJ1cyA9IGJ1cztcbiAgICBfdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgSWRwUHJveHkgPSBjb25maWcuaWRwUHJveHk7XG4gICAgY29udmVydFVzZXJQcm9maWxlID0gY29uZmlnLmNvbnZlcnRVc2VyUHJvZmlsZTtcbiAgICBhY2Nlc3NUb2tlbklucHV0ID0gY29uZmlnLmFjY2Vzc1Rva2VuSW5wdXQ7XG5cblxuICAgIGNvbnNvbGUubG9nKCdbQWJzdHJhY3RJZHBQcm94eV0gY29uc3RydWN0b3InKTtcblxuICAgIF90aGlzLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoJyonLCBmdW5jdGlvbiAobXNnKSB7XG4gICAgICBpZiAobXNnLnRvID09PSBjb25maWcuaWRwVXJsKSB7XG5cbiAgICAgICAgX3RoaXMucmVxdWVzdFRvSWRwKG1zZyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgX3RoaXMuX3NlbmRTdGF0dXMoJ2NyZWF0ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAqIEZ1bmN0aW9uIHRoYXQgc2VlIHRoZSBpbnRlbmRlZCBtZXRob2QgaW4gdGhlIG1lc3NhZ2UgcmVjZWl2ZWQgYW5kIGNhbGwgdGhlIHJlc3BlY3RpdmUgZnVuY3Rpb25cbiAgKlxuICAqIEBwYXJhbSB7bWVzc2FnZX0gIG1lc3NhZ2UgcmVjZWl2ZWQgaW4gdGhlIG1lc3NhZ2VCdXNcbiAgKi9cbiAgcmVxdWVzdFRvSWRwKG1zZykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHBhcmFtcyA9IG1zZy5ib2R5LnBhcmFtcztcbiAgICAvL2NvbnNvbGUuaW5mbygncmVxdWVzdFRvSWRwOicsIG1zZy5ib2R5Lm1ldGhvZCk7XG4gICAgY29uc29sZS5pbmZvKCdbQWJzdHJhY3RJZHBQcm94eVByb3RvU3R1Yl0gcmVjZWl2aW5nIHJlcXVlc3Q6ICcsIG1zZyk7XG5cbiAgICBzd2l0Y2ggKG1zZy5ib2R5Lm1ldGhvZCkge1xuICAgICAgY2FzZSAnZ2VuZXJhdGVBc3NlcnRpb24nOlxuICAgICAgICBJZHBQcm94eS5nZW5lcmF0ZUFzc2VydGlvbihfdGhpcy5jb25maWcsIHBhcmFtcy5jb250ZW50cywgcGFyYW1zLm9yaWdpbiwgcGFyYW1zLnVzZXJuYW1lSGludCkudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcblxuICAgICAgICAgICAgdmFsdWUudXNlclByb2ZpbGUgPSBjb252ZXJ0VXNlclByb2ZpbGUodmFsdWUudXNlclByb2ZpbGUpO1xuICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHsgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgZXJyb3IsIDQwMSk7IH1cbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd2YWxpZGF0ZUFzc2VydGlvbic6XG4gICAgICAgIC8vICAgICAgIGNvbnNvbGUuaW5mbygndmFsaWRhdGVBc3NlcnRpb24nKTtcbiAgICAgICAgSWRwUHJveHkudmFsaWRhdGVBc3NlcnRpb24oX3RoaXMuY29uZmlnLCBwYXJhbXMuYXNzZXJ0aW9uLCBwYXJhbXMub3JpZ2luKS50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkgeyBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7IH0sXG5cbiAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHsgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgZXJyb3IpOyB9XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVmcmVzaEFzc2VydGlvbic6XG4gICAgICAgIC8vICAgICBjb25zb2xlLmluZm8oJ3JlZnJlc2hBc3NlcnRpb24nKTtcbiAgICAgICAgSWRwUHJveHkucmVmcmVzaEFzc2VydGlvbihwYXJhbXMuaWRlbnRpdHkpLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7IF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTsgfSxcblxuICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCBlcnJvciwgdmFsdWUsIDQwMSk7IH1cbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdnZXRBY2Nlc3NUb2tlbkF1dGhvcmlzYXRpb25FbmRwb2ludCc6XG4gICAgICAgIC8vICAgICBjb25zb2xlLmluZm8oJ2dldEFjY2Vzc1Rva2VuJyk7XG4gICAgICAgIElkcFByb3h5LmdldEFjY2Vzc1Rva2VuQXV0aG9yaXNhdGlvbkVuZHBvaW50KF90aGlzLmNvbmZpZywgcGFyYW1zLnJlc291cmNlcykudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7IF90aGlzLnJlcGx5TWVzc2FnZShtc2csIGVycm9yLCA0MDEpOyB9XG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZ2V0QWNjZXNzVG9rZW4nOlxuICAgICAgICAvLyAgICAgY29uc29sZS5pbmZvKCdnZXRBY2Nlc3NUb2tlbicpO1xuICAgICAgICBJZHBQcm94eS5nZXRBY2Nlc3NUb2tlbihfdGhpcy5jb25maWcsIHBhcmFtcy5yZXNvdXJjZXMsIHBhcmFtcy5sb2dpbikudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnT0lEQy5nZXRBY2Nlc3NUb2tlbiByZXN1bHQ6ICcsIHZhbHVlKTtcbiAgICAgICAgICAgIHZhbHVlLmlucHV0ID0gYWNjZXNzVG9rZW5JbnB1dCh2YWx1ZS5pbnB1dCk7XG4gICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCBlcnJvciwgNDAxKTsgfVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlZnJlc2hBY2Nlc3NUb2tlbic6XG4gICAgICAgIC8vICAgICBjb25zb2xlLmluZm8oJ2dldEFjY2Vzc1Rva2VuJyk7XG4gICAgICAgIElkcFByb3h5LnJlZnJlc2hBY2Nlc3NUb2tlbihfdGhpcy5jb25maWcsIHBhcmFtcy50b2tlbikudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnT0lEQy5yZWZyZXNoQWNjZXNzVG9rZW4gcmVzdWx0OiAnLCB2YWx1ZSk7XG4vLyAgICAgICAgICAgIHZhbHVlLmlucHV0ID0gYWNjZXNzVG9rZW5JbnB1dCh2YWx1ZS5pbnB1dCk7XG4gICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikgeyBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCBlcnJvciwgNDAxKTsgfVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAqIFRoaXMgZnVuY3Rpb24gcmVjZWl2ZXMgYSBtZXNzYWdlIGFuZCBhIHZhbHVlLiBJdCByZXBsaWVzIHRoZSB2YWx1ZSB0byB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlIHJlY2VpdmVkXG4gICpcbiAgKiBAcGFyYW0gIHttZXNzYWdlfSAgIG1lc3NhZ2UgcmVjZWl2ZWRcbiAgKiBAcGFyYW0gIHt2YWx1ZX0gICAgIHZhbHVlIHRvIGluY2x1ZGUgaW4gdGhlIG5ldyBtZXNzYWdlIHRvIHNlbmRcbiAgKi9cbiAgcmVwbHlNZXNzYWdlKG1zZywgdmFsdWUsIGNvZGUgPSAyMDApIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IG1lc3NhZ2UgPSB7XG4gICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCB0bzogbXNnLmZyb20sIGZyb206IG1zZy50byxcbiAgICAgIGJvZHk6IHsgY29kZTogY29kZSB9XG4gICAgfTtcblxuICAgIGlmIChjb2RlIDwgMzAwICkgbWVzc2FnZS5ib2R5LnZhbHVlID0gdmFsdWU7XG4gICAgZWxzZSBtZXNzYWdlLmJvZHkuZGVzY3JpcHRpb24gPSB2YWx1ZTtcblxuICAgIGNvbnNvbGUubG9nKCdbQWJzdHJhY3RJZHBQcm94eVByb3RvU3R1Yi5yZXBseU1lc3NhZ2VdICcsIG1lc3NhZ2UpO1xuXG4gICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgfVxuXG4gIF9zZW5kU3RhdHVzKHZhbHVlLCByZWFzb24pIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgY29uc29sZS5sb2coJ1tBYnN0cmFjdElkcFByb3h5UHJvdG9TdHViLnNlbmRTdGF0dXNdICcsIHZhbHVlKTtcblxuICAgIF90aGlzLl9zdGF0ZSA9IHZhbHVlO1xuXG4gICAgbGV0IG1zZyA9IHtcbiAgICAgIHR5cGU6ICd1cGRhdGUnLFxuICAgICAgZnJvbTogX3RoaXMucnVudGltZVByb3RvU3R1YlVSTCxcbiAgICAgIHRvOiBfdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMICsgJy9zdGF0dXMnLFxuICAgICAgYm9keToge1xuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHJlYXNvbikge1xuICAgICAgbXNnLmJvZHkuZGVzYyA9IHJlYXNvbjtcbiAgICB9XG5cbiAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZyk7XG4gIH1cbn1cblxuLy8gZXhwb3J0IGRlZmF1bHQgSWRwUHJveHlQcm90b1N0dWI7XG5cbi8qKlxuICogVG8gYWN0aXZhdGUgdGhpcyBwcm90b2NvbCBzdHViLCB1c2luZyB0aGUgc2FtZSBtZXRob2QgZm9yIGFsbCBwcm90b3N0dWIuXG4gKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkxcbiAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICBidXNQb3N0TWVzc2FnZSAgICAgY29uZmlndXJhdGlvblxuICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uXG4gKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCB3aXRoIG5hbWUgYW5kIGluc3RhbmNlIG9mIFByb3RvU3R1YlxuICovXG5leHBvcnQgZGVmYXVsdCBBYnN0cmFjdElkcFByb3h5UHJvdG9TdHViO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4uL2Rldi1wcm90b3N0dWJzL3NyYy9pZHBwcm94eS9BYnN0cmFjdElkcFByb3h5U3R1Yi5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n");

/***/ })
/******/ ])["default"];
});